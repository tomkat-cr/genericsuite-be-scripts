version: "3.8"
services:
    localstack:
        container_name: localstack
        image: localstack/localstack
        ports:
            - "4566:4566"
            - "4571:4571"
            - "8080:80"
            # - "2222:22"
        environment:
            - SERVICES=cloudformation,ec2,ecr,iam,s3,ssm
            - DEBUG=1
            - AWS_ACCESS_KEY_ID=test
            - AWS_SECRET_ACCESS_KEY=test
            - AWS_DEFAULT_REGION=us-east-1
            - S3_ENDPOINT=http://localstack:4566
        volumes:
            - "/var/run/docker.sock:/var/run/docker.sock"
#     networks:
#       - localstack-network

# networks:
#     localstack-network:
#         driver: bridge
#
